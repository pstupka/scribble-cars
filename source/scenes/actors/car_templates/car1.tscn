[gd_scene load_steps=17 format=2]

[ext_resource path="res://assets/sprites/light.png" type="Texture" id=1]
[ext_resource path="res://assets/sprites/star_05.png" type="Texture" id=2]
[ext_resource path="res://assets/sprites/smoke.png" type="Texture" id=3]
[ext_resource path="res://assets/sprites/cars/car1_wheels.png" type="Texture" id=4]
[ext_resource path="res://assets/sprites/cars/car1_shadow.png" type="Texture" id=5]
[ext_resource path="res://assets/sprites/cars/car1_outline.png" type="Texture" id=6]
[ext_resource path="res://source/utils/day_night_utils/day_night_modulate.tscn" type="PackedScene" id=7]
[ext_resource path="res://assets/sprites/cars/car1_window.png" type="Texture" id=8]
[ext_resource path="res://assets/sprites/cars/car1_fill.png" type="Texture" id=9]

[sub_resource type="CanvasItemMaterial" id=11]
blend_mode = 1

[sub_resource type="CanvasItemMaterial" id=12]
blend_mode = 1

[sub_resource type="Gradient" id=1]
offsets = PoolRealArray( 0, 0.148387, 0.522581 )
colors = PoolColorArray( 1, 1, 1, 1, 1, 1, 1, 0.535484, 1, 1, 1, 0 )

[sub_resource type="GradientTexture" id=2]
gradient = SubResource( 1 )

[sub_resource type="Curve" id=3]
_data = [ Vector2( 0.0224719, 0.203409 ), 0.0, 0.0, 0, 0, Vector2( 1, 1 ), 0.0, 0.0, 0, 0 ]

[sub_resource type="CurveTexture" id=4]
curve = SubResource( 3 )

[sub_resource type="ParticlesMaterial" id=5]
flag_disable_z = true
gravity = Vector3( 0, 0, 0 )
initial_velocity = 100.0
orbit_velocity = 0.0
orbit_velocity_random = 0.0
scale_curve = SubResource( 4 )
color = Color( 0.780392, 0.780392, 0.780392, 1 )
color_ramp = SubResource( 2 )

[node name="Pivot" type="Node2D"]

[node name="ShadowPivot" type="Node2D" parent="."]

[node name="Car2Shadow" type="Sprite" parent="ShadowPivot"]
self_modulate = Color( 0.34902, 0.34902, 0.34902, 0.160784 )
position = Vector2( -3, 23 )
scale = Vector2( 0.5, -0.25 )
texture = ExtResource( 5 )

[node name="AnimationPivot" type="Node2D" parent="."]

[node name="Sprites" type="Node2D" parent="AnimationPivot"]
position = Vector2( 1.06396, -23.2806 )

[node name="CarFill" type="Sprite" parent="AnimationPivot/Sprites"]
self_modulate = Color( 0.705882, 0.321569, 0.321569, 1 )
position = Vector2( -1.06396, -20.7194 )
scale = Vector2( 0.5, 0.5 )
texture = ExtResource( 9 )

[node name="CarWheels" type="Sprite" parent="AnimationPivot/Sprites"]
self_modulate = Color( 0.270588, 0.266667, 0.309804, 1 )
position = Vector2( -4.06396, 3.2806 )
scale = Vector2( 0.5, 0.5 )
texture = ExtResource( 4 )

[node name="CarWindow" type="Sprite" parent="AnimationPivot/Sprites"]
self_modulate = Color( 0.407843, 0.760784, 0.827451, 1 )
position = Vector2( -14.064, -18.7194 )
scale = Vector2( 0.553398, 0.413793 )
texture = ExtResource( 8 )

[node name="CarOutline" type="Sprite" parent="AnimationPivot/Sprites"]
self_modulate = Color( 0.129412, 0.129412, 0.137255, 1 )
position = Vector2( -2.06396, -10.7194 )
scale = Vector2( 0.5, 0.5 )
texture = ExtResource( 6 )

[node name="BackLight" type="Light2D" parent="AnimationPivot"]
position = Vector2( 74, -56 )
rotation = -1.5708
scale = Vector2( 1.2, 1 )
enabled = false
texture = ExtResource( 1 )
offset = Vector2( 0, 123 )
color = Color( 1, 0, 0, 1 )
energy = 0.8
range_layer_min = -1

[node name="BackLight" type="Sprite" parent="AnimationPivot/BackLight"]
self_modulate = Color( 0.54, 0.1674, 0.1674, 1 )
light_mask = 0
material = SubResource( 11 )
position = Vector2( 1.03751, 6.67712 )
scale = Vector2( 0.146059, 0.208771 )
texture = ExtResource( 2 )

[node name="DayNightModulate" parent="AnimationPivot/BackLight/BackLight" instance=ExtResource( 7 )]
night_color = Color( 4, 4, 4, 1 )

[node name="FrontLight" type="Light2D" parent="AnimationPivot"]
position = Vector2( -48, -29 )
rotation = 1.5708
scale = Vector2( 1, 3 )
enabled = false
texture = ExtResource( 1 )
offset = Vector2( 0, 123 )
color = Color( 1, 0.996078, 0.705882, 1 )
range_z_min = -100
range_z_max = 10
range_layer_min = -1
range_layer_max = 1
shadow_enabled = true
shadow_buffer_size = 1024

[node name="Frontlight" type="Sprite" parent="AnimationPivot/FrontLight"]
self_modulate = Color( 0.65, 0.617825, 0.4355, 1 )
material = SubResource( 12 )
position = Vector2( -0.399952, 12.0545 )
rotation = 1.57078
scale = Vector2( 0.0463653, 0.0553866 )
texture = ExtResource( 2 )

[node name="DayNightModulate" parent="AnimationPivot/FrontLight/Frontlight" instance=ExtResource( 7 )]
position = Vector2( 0.000610352, -0.086731 )
night_color = Color( 4, 4, 4, 1 )

[node name="Particles2D" type="Particles2D" parent="AnimationPivot"]
light_mask = 0
position = Vector2( 73, -40 )
amount = 6
lifetime = 1.5
local_coords = false
process_material = SubResource( 5 )
texture = ExtResource( 3 )
